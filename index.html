<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Voice Scam Shield - Mobile Protection</title>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#10b981">
    <meta name="mobile-web-app-capable" content="yes">
</head>
<body>
    <!-- Main Mobile Dialer Interface -->
    <div class="mobile-dialer-app">
        <!-- Status Header -->
        <header class="mobile-header">
            <div class="app-branding">
                <div class="shield-icon">üõ°Ô∏è</div>
                <div class="app-info">
                    <h1>Voice Scam Shield</h1>
                    <div class="version-tag">v1.0.0</div>
                </div>
            </div>
            <div class="protection-status" id="protection-status">
                <div class="status-indicator"></div>
                <span class="status-text">Protected</span>
            </div>
        </header>

        <!-- Main Dialer View -->
        <main class="dialer-main">
            <!-- Audio Activity Ring -->
            <div class="audio-activity-ring" id="audio-ring">
                <div class="audio-bar" style="--rotation: 0deg; --delay: 0ms"></div>
                <div class="audio-bar" style="--rotation: 45deg; --delay: 100ms"></div>
                <div class="audio-bar" style="--rotation: 90deg; --delay: 200ms"></div>
                <div class="audio-bar" style="--rotation: 135deg; --delay: 300ms"></div>
                <div class="audio-bar" style="--rotation: 180deg; --delay: 400ms"></div>
                <div class="audio-bar" style="--rotation: 225deg; --delay: 500ms"></div>
                <div class="audio-bar" style="--rotation: 270deg; --delay: 600ms"></div>
                <div class="audio-bar" style="--rotation: 315deg; --delay: 700ms"></div>
            </div>

            <!-- Central Risk Dialer -->
            <div class="risk-dialer-container" id="risk-dialer-container">
                <div class="dialer-outer-ring"></div>
                <div class="risk-dialer" id="risk-dialer">
                    <div class="dialer-face">
                        <div class="risk-score-display">
                            <div class="risk-score" id="risk-score">0</div>
                            <div class="risk-label" id="risk-label">Safe</div>
                        </div>
                        <div class="risk-indicator-dots">
                            <div class="risk-dot" data-level="safe"></div>
                            <div class="risk-dot" data-level="suspicious"></div>
                            <div class="risk-dot" data-level="scam"></div>
                        </div>
                    </div>
                    <div class="dialer-pulse-ring" id="pulse-ring"></div>
                </div>
            </div>

            <!-- Call Information Overlay -->
            <div class="call-overlay hidden" id="call-overlay">
                <div class="caller-info">
                    <div class="caller-avatar">üìû</div>
                    <div class="caller-details">
                        <div class="caller-number" id="caller-number">Unknown</div>
                        <div class="call-timer" id="call-timer">00:00</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Mobile Control Panel -->
        <div class="mobile-controls">
            <!-- Secondary Actions -->
            <div class="secondary-controls">
                <button class="control-btn secondary" id="demo-btn" aria-label="Demo Scenarios">
                    <div class="btn-icon">üé≠</div>
                    <span class="btn-label">Demo</span>
                </button>
                
                <button class="control-btn secondary" id="settings-btn" aria-label="Settings">
                    <div class="btn-icon">‚öôÔ∏è</div>
                    <span class="btn-label">Settings</span>
                </button>
            </div>

            <!-- Primary Action Button -->
            <button class="control-btn primary" id="monitor-btn">
                <div class="btn-content">
                    <div class="btn-icon" id="monitor-icon">üé§</div>
                    <div class="btn-text" id="monitor-text">Start Monitoring</div>
                </div>
                <div class="btn-pulse-effect" id="btn-pulse"></div>
            </button>
        </div>

        <!-- Swipeable Transcript Panel -->
        <div class="transcript-panel" id="transcript-panel">
            <!-- Panel Drag Handle -->
            <div class="panel-handle" id="panel-handle">
                <div class="handle-grip"></div>
                <div class="handle-text">Live Transcript</div>
            </div>

            <!-- Quick Preview -->
            <div class="transcript-preview" id="transcript-preview">
                <div class="preview-message">Tap to start monitoring calls for real-time protection...</div>
            </div>

            <!-- Full Transcript View -->
            <div class="transcript-content" id="transcript-content">
                <div class="transcript-header">
                    <div class="transcript-title">
                        <h3>Real-time Analysis</h3>
                        <div class="language-indicator" id="language-indicator">EN</div>
                    </div>
                    <div class="transcript-stats">
                        <div class="stat-item">
                            <span class="stat-label">Status</span>
                            <span class="stat-value" id="analysis-status">Waiting</span>
                        </div>
                    </div>
                </div>
                <div class="transcript-messages" id="transcript-messages">
                    <!-- Messages will be added dynamically -->
                </div>
            </div>
        </div>

        <!-- Demo Scenarios Modal -->
        <div class="overlay-modal hidden" id="demo-modal">
            <div class="modal-backdrop" id="demo-backdrop"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h2>Demo Scenarios</h2>
                    <button class="modal-close" id="demo-close" aria-label="Close">√ó</button>
                </div>
                <div class="modal-content">
                    <p class="modal-description">Test the system with realistic call scenarios</p>
                    <div class="scenario-list" id="scenario-list">
                        <!-- Scenarios populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="overlay-modal hidden" id="settings-modal">
            <div class="modal-backdrop" id="settings-backdrop"></div>
            <div class="modal-container">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button class="modal-close" id="settings-close" aria-label="Close">√ó</button>
                </div>
                <div class="modal-content">
                    <!-- Language Settings -->
                    <div class="settings-group">
                        <h3>Language</h3>
                        <div class="language-selector" id="language-selector">
                            <button class="language-option active" data-lang="en">
                                <span class="lang-flag">üá∫üá∏</span>
                                <span class="lang-name">English</span>
                            </button>
                            <button class="language-option" data-lang="es">
                                <span class="lang-flag">üá™üá∏</span>
                                <span class="lang-name">Espa√±ol</span>
                            </button>
                            <button class="language-option" data-lang="fr">
                                <span class="lang-flag">üá´üá∑</span>
                                <span class="lang-name">Fran√ßais</span>
                            </button>
                        </div>
                    </div>

                    <!-- Alert Preferences -->
                    <div class="settings-group">
                        <h3>Alert Preferences</h3>
                        <div class="setting-toggles">
                            <div class="toggle-setting">
                                <label for="vibration-toggle">Haptic Feedback</label>
                                <div class="toggle-switch active" id="vibration-toggle" data-setting="vibration">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                            <div class="toggle-setting">
                                <label for="sound-toggle">Sound Alerts</label>
                                <div class="toggle-switch active" id="sound-toggle" data-setting="sound_alerts">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                            <div class="toggle-setting">
                                <label for="voice-toggle">Voice Guidance</label>
                                <div class="toggle-switch active" id="voice-toggle" data-setting="voice_alerts">
                                    <div class="toggle-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Risk Thresholds -->
                    <div class="settings-group">
                        <h3>Risk Thresholds</h3>
                        <div class="threshold-controls">
                            <div class="threshold-setting">
                                <div class="threshold-header">
                                    <label>Suspicious Level</label>
                                    <span class="threshold-display" id="suspicious-display">31</span>
                                </div>
                                <input type="range" class="threshold-range" id="suspicious-range" 
                                       min="20" max="60" value="31">
                            </div>
                            <div class="threshold-setting">
                                <div class="threshold-header">
                                    <label>Scam Level</label>
                                    <span class="threshold-display" id="scam-display">70</span>
                                </div>
                                <input type="range" class="threshold-range" id="scam-range" 
                                       min="60" max="90" value="70">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Alert System -->
        <div class="mobile-alert hidden" id="mobile-alert">
            <div class="alert-content">
                <div class="alert-icon" id="alert-icon">‚ÑπÔ∏è</div>
                <div class="alert-text" id="alert-text">Alert message</div>
                <button class="alert-dismiss" id="alert-dismiss" aria-label="Dismiss">√ó</button>
            </div>
        </div>

        <!-- Performance Indicators -->
        <div class="performance-overlay hidden" id="performance-overlay">
            <div class="perf-item">
                <span class="perf-label">Latency</span>
                <span class="perf-value" id="latency-value">--ms</span>
            </div>
            <div class="perf-item">
                <span class="perf-label">Accuracy</span>
                <span class="perf-value" id="accuracy-value">--%</span>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>